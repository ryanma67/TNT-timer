<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Minecraft Gold Timer Fixed</title>
    <style>
        :root { 
            --tnt-red: #db2f2f; --tnt-dark: #b12525;
            --gold-main: #fcc201; --gold-dark: #b58b00;
        }

        body { 
            background-color: #000; display: flex; align-items: center; 
            justify-content: center; height: 100vh; margin: 0; 
            overflow: hidden; font-family: 'Courier New', monospace; 
        }

        /* The Golden Wall */
        #wall-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: grid; grid-template-columns: repeat(auto-fill, 80px);
            z-index: -1;
        }
        .gold-block {
            width: 80px; height: 80px; background: var(--gold-main);
            border: 4px solid var(--gold-dark); box-shadow: inset 4px 4px 0 #fff34b;
            transition: transform 0.6s cubic-bezier(0.2, 0, 0.2, 1), opacity 0.5s;
        }

        /* TNT Block */
        #tnt-block {
            background: var(--tnt-red); border: 8px solid #000; padding: 25px;
            box-shadow: inset -10px -10px 0 var(--tnt-dark);
            display: flex; flex-direction: column; align-items: center; z-index: 10;
        }

        /* THE SCREEN - Big and Black */
        #clock { 
            display: flex; gap: 10px; background: #000; padding: 20px; 
            border: 6px solid #444; align-items: center; justify-content: center;
        }

        /* Individual Block Pixels */
        .digit-container { display: grid; grid-template-columns: repeat(3, 12px); gap: 2px; }
        .pixel { width: 12px; height: 12px; background: #1a1a1a; }
        .on { background: #ff3333; box-shadow: 0 0 10px #ff0000; }

        .sep { display: flex; flex-direction: column; gap: 8px; padding: 0 5px; }
        .dot { width: 12px; height: 12px; background: #ff3333; box-shadow: 0 0 10px #ff0000; }

        /* Effects */
        #flash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; opacity: 0; pointer-events: none; z-index: 100; }
        .particle { position: absolute; width: 15px; height: 15px; z-index: 50; }

        #time-over-screen {
            position: fixed; display: none; flex-direction: column; align-items: center; 
            justify-content: center; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.8); z-index: 60;
        }

        .inputs { margin-top: 15px; }
        input { width: 45px; border: 3px solid #000; text-align: center; font-weight: bold; font-size: 1.1rem; }
        button { cursor: pointer; border: 4px solid #000; background: #c6c6c6; font-weight: bold; padding: 8px 15px; }

        .tnt-prime { animation: shake 0.1s infinite; background: white !important; }
        @keyframes shake { 0% { transform: translate(3px, 3px); } 50% { transform: translate(-3px, -3px); } }
    </style>
</head>
<body id="main-body">

    <div id="flash"></div>
    <div id="wall-container"></div>

    <div id="tnt-block">
        <div style="background:white; color:black; font-weight:bold; padding:5px 20px; border:4px solid #000; margin-bottom:15px; letter-spacing:3px;">TNT</div>
        
        <div id="clock"></div>
        
        <div class="inputs">
            <input type="number" id="h" placeholder="0">
            <input type="number" id="m" placeholder="0">
            <input type="number" id="s" placeholder="0">
            <button onclick="startTimer()">START</button>
        </div>
    </div>

    <div id="time-over-screen">
        <h1 style="color:#fcc201; font-size:3.5rem; text-shadow:4px 4px #000;">VAULT DESTROYED</h1>
        <button onclick="respawn()">REBUILD GOLD WALL</button>
    </div>

    <script>
        // Mapping 15 pixels for each number (3 wide, 5 high)
        const font = {
            '0': [1,1,1,1,0,1,1,0,1,1,0,1,1,1,1], '1': [0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],
            '2': [1,1,1,0,0,1,1,1,1,1,0,0,1,1,1], '3': [1,1,1,0,0,1,1,1,1,0,0,1,1,1,1],
            '4': [1,0,1,1,0,1,1,1,1,0,0,1,0,0,1], '5': [1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],
            '6': [1,1,1,1,0,0,1,1,1,1,0,1,1,1,1], '7': [1,1,1,0,0,1,0,0,1,0,0,1,0,0,1],
            '8': [1,1,1,1,0,1,1,1,1,1,0,1,1,1,1], '9': [1,1,1,1,0,1,1,1,1,0,0,1,1,1,1]
        };

        let timeLeft = 0;
        let timerId = null;

        function buildWall() {
            const container = document.getElementById('wall-container');
            container.innerHTML = '';
            const count = Math.ceil(window.innerWidth/80) * Math.ceil(window.innerHeight/80);
            for(let i=0; i<count; i++) {
                const b = document.createElement('div');
                b.className = 'gold-block';
                container.appendChild(b);
            }
        }

        function drawClock() {
            const h = Math.floor(timeLeft / 3600).toString().padStart(2, '0');
            const m = Math.floor((timeLeft % 3600) / 60).toString().padStart(2, '0');
            const s = (timeLeft % 60).toString().padStart(2, '0');
            
            const clock = document.getElementById('clock');
            clock.innerHTML = '';

            const timeStr = `${h}:${m}:${s}`;
            for (let char of timeStr) {
                const el = document.createElement('div');
                if (char === ':') {
                    el.className = 'sep';
                    el.innerHTML = '<div class="dot"></div><div class="dot"></div>';
                } else {
                    el.className = 'digit-container';
                    font[char].forEach(pixelOn => {
                        const p = document.createElement('div');
                        p.className = 'pixel' + (pixelOn ? ' on' : '');
                        el.appendChild(p);
                    });
                }
                clock.appendChild(el);
            }
        }

        function startTimer() {
            if (timerId) return;
            timeLeft = (parseInt(document.getElementById('h').value)||0)*3600 + 
                       (parseInt(document.getElementById('m').value)||0)*60 + 
                       (parseInt(document.getElementById('s').value)||0);
            if (timeLeft <= 0) return;
            timerId = setInterval(() => {
                timeLeft--; drawClock();
                if(timeLeft < 5 && timeLeft > 0) document.getElementById('tnt-block').classList.add('tnt-prime');
                if(timeLeft <= 0) explode();
            }, 1000);
        }

        function explode() {
            clearInterval(timerId);
            document.getElementById('tnt-block').style.display = 'none';
            
            // Shatter blocks
            document.querySelectorAll('.gold-block').forEach(b => {
                b.style.transform = `translate(${(Math.random()-0.5)*1500}px, ${(Math.random()-0.5)*1500}px) rotate(${Math.random()*360}deg)`;
                b.style.opacity = '0';
            });

            // Flash
            const f = document.getElementById('flash');
            f.style.opacity = '1';
            setTimeout(() => f.style.opacity = '0', 200);

            // Particles
            for(let i=0; i<100; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = '50%'; p.style.top = '50%';
                p.style.background = ['#ff4500', '#fcc201', '#555'][Math.floor(Math.random()*3)];
                document.body.appendChild(p);
                
                let vx = (Math.random()-0.5)*40, vy = (Math.random()-0.5)*40, op = 1;
                const m = setInterval(() => {
                    p.style.left = (parseFloat(p.style.left) + vx/10) + '%';
                    p.style.top = (parseFloat(p.style.top) + vy/10) + '%';
                    vy += 1; op -= 0.02; p.style.opacity = op;
                    if(op <= 0) { clearInterval(m); p.remove(); }
                }, 20);
            }

            setTimeout(() => { document.getElementById('time-over-screen').style.display = 'flex'; }, 1000);
        }

        function respawn() {
            document.getElementById('time-over-screen').style.display = 'none';
            document.getElementById('tnt-block').style.display = 'flex';
            document.getElementById('tnt-block').classList.remove('tnt-prime');
            timerId = null; timeLeft = 0;
            buildWall(); drawClock();
        }

        window.onresize = buildWall;
        buildWall();
        drawClock();
    </script>
</body>
</html>